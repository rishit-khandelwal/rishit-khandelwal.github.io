<!DOCTYPE html>
<html>
<body>

<h1>My First Google Map</h1>

<div id="googleMap" style="width:100%;height:400px;"></div>

<script>



function myMap() {


const mapplot = () => {
var mapProp= {
  center:new google.maps.LatLng(lati,longi),
  zoom:5,
};
var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);

var marker = new google.maps.Marker({
  position:mapProp['center'],
  animation:google.maps.Animation.BOUNCE
});

marker.setMap(map);
}

var options = {
  enableHighAccuracy: true,
  timeout: 5000,
  maximumAge: 0
};
var lati = 0
var longi = 0
function success(pos) {
  var crd = pos.coords;
  lati = crd.latitude;
  longi = crd.longitude
}

function error(err) {
  console.warn(`ERROR(${err.code}): ${err.message}`);
}

const loaddata = () => 
{
navigator.geolocation.getCurrentPosition(success, error, options);
setTimeout(mapplot,5500);
}

setTimeout(loaddata,3000)

}
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCgyHoIq2o9Lmvt_1FCV2M5ev6OBgp7miw&callback=myMap"></script>

</body>
</html>